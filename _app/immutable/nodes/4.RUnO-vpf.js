import{S as ne,i as ce,s as ie,d,m as P,o as j,p as B,a as x,b as N,c as f,q as Y,r as g,e as b,f as k,g as S,h as V,u as G,j as $,t as q,k as R,v as J,l as he,w as fe,x as ae,y as se,z as re,n as oe,A as ue}from"../chunks/TqEO6J7Z.js";import{e as Q}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{g as _e}from"../chunks/DTpoW4qT.js";import{t as de}from"../chunks/B1caKlHw.js";import{C as me}from"../chunks/CVJ17vuL.js";import{S as pe,E as ge}from"../chunks/BXlNSs00.js";import{B as ve}from"../chunks/CGk_E9Vt.js";import{f as ee,L as be}from"../chunks/KOfDs5oF.js";function te(n,t,l){const e=n.slice();return e[9]=t[l],e}function $e(n,t,l){const e=n.slice();return e[6]=t[l],e[8]=l,e}function ke(n){let t,l,e,a,h=n[3]("blocks.height")+"",o,v,r,c=n[3]("blocks.hash")+"",p,M,D,L=n[3]("blocks.timestamp")+"",F,A,T,I=n[3]("blocks.txCount")+"",H,C,y,E,u=Q(n[0]),s=[];for(let i=0;i<u.length;i+=1)s[i]=le(te(n,u,i));const z=i=>j(s[i],1,1,()=>{s[i]=null});return{c(){t=$("table"),l=$("thead"),e=$("tr"),a=$("th"),o=q(h),v=R(),r=$("th"),p=q(c),M=R(),D=$("th"),F=q(L),A=R(),T=$("th"),H=q(I),C=R(),y=$("tbody");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){t=b(i,"TABLE",{class:!0});var m=k(t);l=b(m,"THEAD",{class:!0});var _=k(l);e=b(_,"TR",{});var w=k(e);a=b(w,"TH",{class:!0});var O=k(a);o=S(O,h),O.forEach(d),v=V(w),r=b(w,"TH",{class:!0});var U=k(r);p=S(U,c),U.forEach(d),M=V(w),D=b(w,"TH",{class:!0});var W=k(D);F=S(W,L),W.forEach(d),A=V(w),T=b(w,"TH",{class:!0});var X=k(T);H=S(X,I),X.forEach(d),w.forEach(d),_.forEach(d),C=V(m),y=b(m,"TBODY",{class:!0});var Z=k(y);for(let K=0;K<s.length;K+=1)s[K].l(Z);Z.forEach(d),m.forEach(d),this.h()},h(){g(a,"class","table-th"),g(r,"class","table-th"),g(D,"class","table-th"),g(T,"class","table-th"),g(l,"class","table-header"),g(y,"class","table-body"),g(t,"class","data-table")},m(i,m){N(i,t,m),f(t,l),f(l,e),f(e,a),f(a,o),f(e,v),f(e,r),f(r,p),f(e,M),f(e,D),f(D,F),f(e,A),f(e,T),f(T,H),f(t,C),f(t,y);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(y,null);E=!0},p(i,m){if((!E||m&8)&&h!==(h=i[3]("blocks.height")+"")&&x(o,h),(!E||m&8)&&c!==(c=i[3]("blocks.hash")+"")&&x(p,c),(!E||m&8)&&L!==(L=i[3]("blocks.timestamp")+"")&&x(F,L),(!E||m&8)&&I!==(I=i[3]("blocks.txCount")+"")&&x(H,I),m&1){u=Q(i[0]);let _;for(_=0;_<u.length;_+=1){const w=te(i,u,_);s[_]?(s[_].p(w,m),B(s[_],1)):(s[_]=le(w),s[_].c(),B(s[_],1),s[_].m(y,null))}for(ae(),_=u.length;_<s.length;_+=1)z(_);se()}},i(i){if(!E){for(let m=0;m<u.length;m+=1)B(s[m]);E=!0}},o(i){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)j(s[m]);E=!1},d(i){i&&d(t),re(s,i)}}}function Ee(n){let t,l;return t=new ge({props:{title:"Failed to load blocks",message:n[2],onRetry:n[5]}}),{c(){J(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,a){Y(t,e,a),l=!0},p(e,a){const h={};a&4&&(h.message=e[2]),t.$set(h)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){j(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Te(n){let t,l;return t=new pe({props:{$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){J(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,a){Y(t,e,a),l=!0},p(e,a){const h={};a&4096&&(h.$$scope={dirty:a,ctx:e}),t.$set(h)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){j(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function we(n){let t=n[9].txCount+"",l;return{c(){l=q(t)},l(e){l=S(e,t)},m(e,a){N(e,l,a)},p(e,a){a&1&&t!==(t=e[9].txCount+"")&&x(l,t)},d(e){e&&d(l)}}}function le(n){let t,l,e,a,h=n[9].height+"",o,v,r,c,p,M=ee(n[9].hash)+"",D,L,F,A,T,I,H,C,y,E;return T=new be({props:{timestamp:Math.floor(n[9].timestamp.getTime()/1e3),className:"time-text"}}),C=new ve({props:{variant:"info",$$slots:{default:[we]},$$scope:{ctx:n}}}),{c(){t=$("tr"),l=$("td"),e=$("a"),a=q("#"),o=q(h),r=R(),c=$("td"),p=$("a"),D=q(M),F=R(),A=$("td"),J(T.$$.fragment),I=R(),H=$("td"),J(C.$$.fragment),y=R(),this.h()},l(u){t=b(u,"TR",{class:!0});var s=k(t);l=b(s,"TD",{class:!0});var z=k(l);e=b(z,"A",{href:!0,class:!0});var i=k(e);a=S(i,"#"),o=S(i,h),i.forEach(d),z.forEach(d),r=V(s),c=b(s,"TD",{class:!0});var m=k(c);p=b(m,"A",{href:!0,class:!0});var _=k(p);D=S(_,M),_.forEach(d),m.forEach(d),F=V(s),A=b(s,"TD",{class:!0});var w=k(A);G(T.$$.fragment,w),w.forEach(d),I=V(s),H=b(s,"TD",{class:!0});var O=k(H);G(C.$$.fragment,O),O.forEach(d),y=V(s),s.forEach(d),this.h()},h(){g(e,"href",v="/blocks/"+n[9].hash),g(e,"class","block-height hover:text-primary-600"),g(l,"class","table-td"),g(p,"href",L="/blocks/"+n[9].hash),g(p,"class","hash-text hover:text-primary-600"),g(c,"class","table-td"),g(A,"class","table-td"),g(H,"class","table-td"),g(t,"class","table-row")},m(u,s){N(u,t,s),f(t,l),f(l,e),f(e,a),f(e,o),f(t,r),f(t,c),f(c,p),f(p,D),f(t,F),f(t,A),Y(T,A,null),f(t,I),f(t,H),Y(C,H,null),f(t,y),E=!0},p(u,s){(!E||s&1)&&h!==(h=u[9].height+"")&&x(o,h),(!E||s&1&&v!==(v="/blocks/"+u[9].hash))&&g(e,"href",v),(!E||s&1)&&M!==(M=ee(u[9].hash)+"")&&x(D,M),(!E||s&1&&L!==(L="/blocks/"+u[9].hash))&&g(p,"href",L);const z={};s&1&&(z.timestamp=Math.floor(u[9].timestamp.getTime()/1e3)),T.$set(z);const i={};s&4097&&(i.$$scope={dirty:s,ctx:u}),C.$set(i)},i(u){E||(B(T.$$.fragment,u),B(C.$$.fragment,u),E=!0)},o(u){j(T.$$.fragment,u),j(C.$$.fragment,u),E=!1},d(u){u&&d(t),P(T),P(C)}}}function Ce(n){let t,l='<div class="skeleton skeleton-text w-20"></div> <div class="skeleton skeleton-text flex-1"></div> <div class="skeleton skeleton-text w-24"></div> <div class="skeleton skeleton-text w-16"></div> <div class="skeleton skeleton-text w-32"></div> ';return{c(){t=$("div"),t.innerHTML=l,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1fmbi7j"&&(t.innerHTML=l),this.h()},h(){g(t,"class","flex gap-4")},m(e,a){N(e,t,a)},p:oe,d(e){e&&d(t)}}}function De(n){let t,l=Q(Array(10)),e=[];for(let a=0;a<l.length;a+=1)e[a]=Ce($e(n,l,a));return{c(){t=$("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=b(a,"DIV",{class:!0});var h=k(t);for(let o=0;o<e.length;o+=1)e[o].l(h);h.forEach(d),this.h()},h(){g(t,"class","p-6 space-y-4")},m(a,h){N(a,t,h);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p:oe,d(a){a&&d(t),re(e,a)}}}function He(n){let t,l,e,a;const h=[Te,Ee,ke],o=[];function v(r,c){return r[1]?0:r[2]?1:2}return l=v(n),e=o[l]=h[l](n),{c(){t=$("div"),e.c(),this.h()},l(r){t=b(r,"DIV",{class:!0});var c=k(t);e.l(c),c.forEach(d),this.h()},h(){g(t,"class","table-wrapper")},m(r,c){N(r,t,c),o[l].m(t,null),a=!0},p(r,c){let p=l;l=v(r),l===p?o[l].p(r,c):(ae(),j(o[p],1,1,()=>{o[p]=null}),se(),e=o[l],e?e.p(r,c):(e=o[l]=h[l](r),e.c()),B(e,1),e.m(t,null))},i(r){a||(B(e),a=!0)},o(r){j(e),a=!1},d(r){r&&d(t),o[l].d()}}}function ye(n){let t,l,e=n[3]("blocks.title")+"",a,h,o,v;return o=new me({props:{$$slots:{default:[He]},$$scope:{ctx:n}}}),{c(){t=$("div"),l=$("h1"),a=q(e),h=R(),J(o.$$.fragment),this.h()},l(r){t=b(r,"DIV",{class:!0});var c=k(t);l=b(c,"H1",{class:!0});var p=k(l);a=S(p,e),p.forEach(d),h=V(c),G(o.$$.fragment,c),c.forEach(d),this.h()},h(){g(l,"class","page-title"),g(t,"class","page-container")},m(r,c){N(r,t,c),f(t,l),f(l,a),f(t,h),Y(o,t,null),v=!0},p(r,[c]){(!v||c&8)&&e!==(e=r[3]("blocks.title")+"")&&x(a,e);const p={};c&4111&&(p.$$scope={dirty:c,ctx:r}),o.$set(p)},i(r){v||(B(o.$$.fragment,r),v=!0)},o(r){j(o.$$.fragment,r),v=!1},d(r){r&&d(t),P(o)}}}function Le(n,t,l){let e,a;he(n,de,c=>l(4,a=c));let h=[],o=!0,v=null;fe(async()=>{try{l(0,h=await _e.getLatestBlocks())}catch(c){console.log("Error loading blocks:",c),l(2,v=c instanceof Error?c.message:"Failed to load blocks")}finally{l(1,o=!1)}});const r=()=>window.location.reload();return n.$$.update=()=>{n.$$.dirty&16&&l(3,e=a)},[h,o,v,e,a,r]}class Fe extends ne{constructor(t){super(),ce(this,t,Le,ye,ie,{})}}export{Fe as component};
