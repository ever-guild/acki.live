import{S as me,i as de,s as _e,d as h,m as x,o as G,p as z,a as V,b as J,c as n,q as ee,r as _,e as p,f as g,g as q,h as L,u as te,j as v,t as R,k as M,v as ae,l as pe,w as ve,x as ie,y as fe,z as ue,n as he,A as ge}from"../chunks/TqEO6J7Z.js";import{e as le}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{g as $e}from"../chunks/BOj3_AOA.js";import{t as be}from"../chunks/JuTwlqPz.js";import{C as ke}from"../chunks/CVJ17vuL.js";import{S as Ee,E as Te}from"../chunks/CibW1Izj.js";import{a as Z,b as oe,L as we}from"../chunks/BDGIBYUh.js";import"../chunks/dOC9I46v.js";function ne(i,t,a){const e=i.slice();return e[9]=t[a],e}function ye(i,t,a){const e=i.slice();return e[6]=t[a],e[8]=a,e}function De(i){let t,a,e,s,u=i[3]("common.from")+"",o,k,l,c=i[3]("common.to")+"",b,O,B,D=i[3]("common.type")+"",H,F,S,j=i[3]("common.value")+"",C,I,A,N=i[3]("common.time")+"",Y,P,T,y,E=le(i[0]),r=[];for(let f=0;f<E.length;f+=1)r[f]=ce(ne(i,E,f));const $=f=>G(r[f],1,1,()=>{r[f]=null});return{c(){t=v("table"),a=v("thead"),e=v("tr"),s=v("th"),o=R(u),k=M(),l=v("th"),b=R(c),O=M(),B=v("th"),H=R(D),F=M(),S=v("th"),C=R(j),I=M(),A=v("th"),Y=R(N),P=M(),T=v("tbody");for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){t=p(f,"TABLE",{class:!0});var d=g(t);a=p(d,"THEAD",{class:!0});var m=g(a);e=p(m,"TR",{});var w=g(e);s=p(w,"TH",{class:!0});var K=g(s);o=q(K,u),K.forEach(h),k=L(w),l=p(w,"TH",{class:!0});var Q=g(l);b=q(Q,c),Q.forEach(h),O=L(w),B=p(w,"TH",{class:!0});var U=g(B);H=q(U,D),U.forEach(h),F=L(w),S=p(w,"TH",{class:!0});var W=g(S);C=q(W,j),W.forEach(h),I=L(w),A=p(w,"TH",{class:!0});var X=g(A);Y=q(X,N),X.forEach(h),w.forEach(h),m.forEach(h),P=L(d),T=p(d,"TBODY",{class:!0});var re=g(T);for(let se=0;se<r.length;se+=1)r[se].l(re);re.forEach(h),d.forEach(h),this.h()},h(){_(s,"class","table-th"),_(l,"class","table-th"),_(B,"class","table-th"),_(S,"class","table-th"),_(A,"class","table-th"),_(a,"class","table-header"),_(T,"class","table-body"),_(t,"class","data-table")},m(f,d){J(f,t,d),n(t,a),n(a,e),n(e,s),n(s,o),n(e,k),n(e,l),n(l,b),n(e,O),n(e,B),n(B,H),n(e,F),n(e,S),n(S,C),n(e,I),n(e,A),n(A,Y),n(t,P),n(t,T);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(T,null);y=!0},p(f,d){if((!y||d&8)&&u!==(u=f[3]("common.from")+"")&&V(o,u),(!y||d&8)&&c!==(c=f[3]("common.to")+"")&&V(b,c),(!y||d&8)&&D!==(D=f[3]("common.type")+"")&&V(H,D),(!y||d&8)&&j!==(j=f[3]("common.value")+"")&&V(C,j),(!y||d&8)&&N!==(N=f[3]("common.time")+"")&&V(Y,N),d&1){E=le(f[0]);let m;for(m=0;m<E.length;m+=1){const w=ne(f,E,m);r[m]?(r[m].p(w,d),z(r[m],1)):(r[m]=ce(w),r[m].c(),z(r[m],1),r[m].m(T,null))}for(ie(),m=E.length;m<r.length;m+=1)$(m);fe()}},i(f){if(!y){for(let d=0;d<E.length;d+=1)z(r[d]);y=!0}},o(f){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)G(r[d]);y=!1},d(f){f&&h(t),ue(r,f)}}}function Ae(i){let t,a;return t=new Te({props:{title:"Failed to load messages",message:i[2],onRetry:i[5]}}),{c(){ae(t.$$.fragment)},l(e){te(t.$$.fragment,e)},m(e,s){ee(t,e,s),a=!0},p(e,s){const u={};s&4&&(u.message=e[2]),t.$set(u)},i(e){a||(z(t.$$.fragment,e),a=!0)},o(e){G(t.$$.fragment,e),a=!1},d(e){x(t,e)}}}function He(i){let t,a;return t=new Ee({props:{$$slots:{default:[Ce]},$$scope:{ctx:i}}}),{c(){ae(t.$$.fragment)},l(e){te(t.$$.fragment,e)},m(e,s){ee(t,e,s),a=!0},p(e,s){const u={};s&4096&&(u.$$scope={dirty:s,ctx:e}),t.$set(u)},i(e){a||(z(t.$$.fragment,e),a=!0)},o(e){G(t.$$.fragment,e),a=!1},d(e){x(t,e)}}}function ce(i){let t,a,e,s=Z(i[9].from)+"",u,o,k,l,c,b=Z(i[9].to)+"",O,B,D,H,F=i[9].type+"",S,j,C,I,A=oe(i[9].value)+"",N,Y,P,T,y,E;return T=new we({props:{timestamp:Math.floor(i[9].timestamp.getTime()/1e3),className:"time-text"}}),{c(){t=v("tr"),a=v("td"),e=v("a"),u=R(s),k=M(),l=v("td"),c=v("span"),O=R(b),B=M(),D=v("td"),H=v("span"),S=R(F),j=M(),C=v("td"),I=v("span"),N=R(A),Y=M(),P=v("td"),ae(T.$$.fragment),y=M(),this.h()},l(r){t=p(r,"TR",{class:!0});var $=g(t);a=p($,"TD",{class:!0});var f=g(a);e=p(f,"A",{href:!0,class:!0});var d=g(e);u=q(d,s),d.forEach(h),f.forEach(h),k=L($),l=p($,"TD",{class:!0});var m=g(l);c=p(m,"SPAN",{class:!0});var w=g(c);O=q(w,b),w.forEach(h),m.forEach(h),B=L($),D=p($,"TD",{class:!0});var K=g(D);H=p(K,"SPAN",{class:!0});var Q=g(H);S=q(Q,F),Q.forEach(h),K.forEach(h),j=L($),C=p($,"TD",{class:!0});var U=g(C);I=p(U,"SPAN",{class:!0});var W=g(I);N=q(W,A),W.forEach(h),U.forEach(h),Y=L($),P=p($,"TD",{class:!0});var X=g(P);te(T.$$.fragment,X),X.forEach(h),y=L($),$.forEach(h),this.h()},h(){_(e,"href",o="/messages/"+i[9].id),_(e,"class","address-text hover:text-primary-600"),_(a,"class","table-td"),_(c,"class","address-text"),_(l,"class","table-td"),_(H,"class","text-primary-500 font-medium"),_(D,"class","table-td"),_(I,"class","font-semibold text-primary"),_(C,"class","table-td"),_(P,"class","table-td"),_(t,"class","table-row")},m(r,$){J(r,t,$),n(t,a),n(a,e),n(e,u),n(t,k),n(t,l),n(l,c),n(c,O),n(t,B),n(t,D),n(D,H),n(H,S),n(t,j),n(t,C),n(C,I),n(I,N),n(t,Y),n(t,P),ee(T,P,null),n(t,y),E=!0},p(r,$){(!E||$&1)&&s!==(s=Z(r[9].from)+"")&&V(u,s),(!E||$&1&&o!==(o="/messages/"+r[9].id))&&_(e,"href",o),(!E||$&1)&&b!==(b=Z(r[9].to)+"")&&V(O,b),(!E||$&1)&&F!==(F=r[9].type+"")&&V(S,F),(!E||$&1)&&A!==(A=oe(r[9].value)+"")&&V(N,A);const f={};$&1&&(f.timestamp=Math.floor(r[9].timestamp.getTime()/1e3)),T.$set(f)},i(r){E||(z(T.$$.fragment,r),E=!0)},o(r){G(T.$$.fragment,r),E=!1},d(r){r&&h(t),x(T)}}}function Se(i){let t,a='<div class="skeleton skeleton-text flex-1"></div> <div class="skeleton skeleton-text flex-1"></div> <div class="skeleton skeleton-text w-20"></div> <div class="skeleton skeleton-text w-20"></div> <div class="skeleton skeleton-text w-24"></div> ';return{c(){t=v("div"),t.innerHTML=a,this.h()},l(e){t=p(e,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-64l08e"&&(t.innerHTML=a),this.h()},h(){_(t,"class","flex gap-4")},m(e,s){J(e,t,s)},p:he,d(e){e&&h(t)}}}function Ce(i){let t,a=le(Array(10)),e=[];for(let s=0;s<a.length;s+=1)e[s]=Se(ye(i,a,s));return{c(){t=v("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=p(s,"DIV",{class:!0});var u=g(t);for(let o=0;o<e.length;o+=1)e[o].l(u);u.forEach(h),this.h()},h(){_(t,"class","p-6 space-y-4")},m(s,u){J(s,t,u);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p:he,d(s){s&&h(t),ue(e,s)}}}function Le(i){let t,a,e,s;const u=[He,Ae,De],o=[];function k(l,c){return l[1]?0:l[2]?1:2}return a=k(i),e=o[a]=u[a](i),{c(){t=v("div"),e.c(),this.h()},l(l){t=p(l,"DIV",{class:!0});var c=g(t);e.l(c),c.forEach(h),this.h()},h(){_(t,"class","table-wrapper")},m(l,c){J(l,t,c),o[a].m(t,null),s=!0},p(l,c){let b=a;a=k(l),a===b?o[a].p(l,c):(ie(),G(o[b],1,1,()=>{o[b]=null}),fe(),e=o[a],e?e.p(l,c):(e=o[a]=u[a](l),e.c()),z(e,1),e.m(t,null))},i(l){s||(z(e),s=!0)},o(l){G(e),s=!1},d(l){l&&h(t),o[a].d()}}}function Me(i){let t,a,e=i[3]("messages.title")+"",s,u,o,k;return o=new ke({props:{$$slots:{default:[Le]},$$scope:{ctx:i}}}),{c(){t=v("div"),a=v("h1"),s=R(e),u=M(),ae(o.$$.fragment),this.h()},l(l){t=p(l,"DIV",{class:!0});var c=g(t);a=p(c,"H1",{class:!0});var b=g(a);s=q(b,e),b.forEach(h),u=L(c),te(o.$$.fragment,c),c.forEach(h),this.h()},h(){_(a,"class","page-title"),_(t,"class","page-container")},m(l,c){J(l,t,c),n(t,a),n(a,s),n(t,u),ee(o,t,null),k=!0},p(l,[c]){(!k||c&8)&&e!==(e=l[3]("messages.title")+"")&&V(s,e);const b={};c&4111&&(b.$$scope={dirty:c,ctx:l}),o.$set(b)},i(l){k||(z(o.$$.fragment,l),k=!0)},o(l){G(o.$$.fragment,l),k=!1},d(l){l&&h(t),x(o)}}}function Be(i,t,a){let e,s;pe(i,be,c=>a(4,s=c));let u=[],o=!0,k=null;ve(async()=>{try{a(0,u=await $e.getMessages())}catch(c){console.log("Error loading messages:",c),a(2,k=c instanceof Error?c.message:"Failed to load messages")}finally{a(1,o=!1)}});const l=()=>window.location.reload();return i.$$.update=()=>{i.$$.dirty&16&&a(3,e=s)},[u,o,k,e,s,l]}class Oe extends me{constructor(t){super(),de(this,t,Be,Me,_e,{})}}export{Oe as component};
