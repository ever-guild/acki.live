import{S as gt,i as bt,s as $t,d as p,o as V,p as L,y as at,b as S,c as d,B as pt,r as _,e as m,f as E,z as M,h as D,j as v,k as A,l as it,A as kt,m as R,q as G,u as J,v as U,n as Q,a as O,g as N,t as P,x as st,w as mt}from"../chunks/CRUsCSWV.js";import{e as tt}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{p as xt}from"../chunks/BGu7-GPy.js";import{g as Ct}from"../chunks/DOE2QSlt.js";import{t as Et}from"../chunks/D9rPE3x6.js";import{C as et}from"../chunks/COqcEkzf.js";import{B as wt}from"../chunks/B79fQi9A.js";import{S as vt}from"../chunks/B4YznNug.js";import{L as yt}from"../chunks/BMre6Alt.js";import{e as dt}from"../chunks/BzX2F8xg.js";function ut(o,t,a){const e=o.slice();return e[15]=t[a],e}function Tt(o,t,a){const e=o.slice();return e[12]=t[a],e[14]=a,e}function Dt(o){let t,a,e,l;return t=new et({props:{$$slots:{default:[Ht]},$$scope:{ctx:o}}}),e=new et({props:{$$slots:{default:[qt]},$$scope:{ctx:o}}}),{c(){U(t.$$.fragment),a=A(),U(e.$$.fragment)},l(s){J(t.$$.fragment,s),a=D(s),J(e.$$.fragment,s)},m(s,c){G(t,s,c),S(s,a,c),G(e,s,c),l=!0},p(s,c){const $={};c&262177&&($.$$scope={dirty:c,ctx:s}),t.$set($);const h={};c&262162&&(h.$$scope={dirty:c,ctx:s}),e.$set(h)},i(s){l||(L(t.$$.fragment,s),L(e.$$.fragment,s),l=!0)},o(s){V(t.$$.fragment,s),V(e.$$.fragment,s),l=!1},d(s){s&&p(a),R(t,s),R(e,s)}}}function At(o){let t,a;return t=new et({props:{$$slots:{default:[Ft]},$$scope:{ctx:o}}}),{c(){U(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){G(t,e,l),a=!0},p(e,l){const s={};l&262152&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){a||(L(t.$$.fragment,e),a=!0)},o(e){V(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Bt(o){let t,a;return t=new vt({props:{$$slots:{default:[zt]},$$scope:{ctx:o}}}),{c(){U(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){G(t,e,l),a=!0},p(e,l){const s={};l&262144&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){a||(L(t.$$.fragment,e),a=!0)},o(e){V(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Ht(o){let t,a,e="Account Overview",l,s,c,$,h="Address",r,f,n,u,i,k,b="BOC (Bag of Cells)",x,g,C=o[0].boc+"",T;return{c(){t=v("div"),a=v("h2"),a.textContent=e,l=A(),s=v("div"),c=v("div"),$=v("label"),$.textContent=h,r=A(),f=v("p"),n=P(o[5]),u=A(),i=v("div"),k=v("label"),k.textContent=b,x=A(),g=v("div"),T=P(C),this.h()},l(B){t=m(B,"DIV",{class:!0});var H=E(t);a=m(H,"H2",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-czjira"&&(a.textContent=e),l=D(H),s=m(H,"DIV",{class:!0});var q=E(s);c=m(q,"DIV",{});var z=E(c);$=m(z,"LABEL",{class:!0,"data-svelte-h":!0}),M($)!=="svelte-1p9fdhj"&&($.textContent=h),r=D(z),f=m(z,"P",{class:!0});var F=E(f);n=N(F,o[5]),F.forEach(p),z.forEach(p),u=D(q),i=m(q,"DIV",{});var I=E(i);k=m(I,"LABEL",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-1vmznk2"&&(k.textContent=b),x=D(I),g=m(I,"DIV",{class:!0});var Y=E(g);T=N(Y,C),Y.forEach(p),I.forEach(p),q.forEach(p),H.forEach(p),this.h()},h(){_(a,"class","text-xl font-bold mb-2"),_($,"class","detail-label svelte-u92z4a"),_(f,"class","detail-value font-mono break-all svelte-u92z4a"),_(k,"class","detail-label svelte-u92z4a"),_(g,"class","bg-gray-100 dark:bg-gray-800 rounded-lg p-4 font-mono text-xs break-all overflow-auto max-h-48"),_(s,"class","grid grid-cols-1 gap-6"),_(t,"class","p-6")},m(B,H){S(B,t,H),d(t,a),d(t,l),d(t,s),d(s,c),d(c,$),d(c,r),d(c,f),d(f,n),d(s,u),d(s,i),d(i,k),d(i,x),d(i,g),d(g,T)},p(B,H){H&32&&O(n,B[5]),H&1&&C!==(C=B[0].boc+"")&&O(T,C)},d(B){B&&p(t)}}}function Lt(o){let t,a,e,l='<tr><th class="table-th">Transaction ID</th> <th class="table-th">Status</th> <th class="table-th">Balance Change</th> <th class="table-th">Fees</th> <th class="table-th">Time</th></tr>',s,c,$,h=tt(o[1]),r=[];for(let n=0;n<h.length;n+=1)r[n]=ft(ut(o,h,n));const f=n=>V(r[n],1,1,()=>{r[n]=null});return{c(){t=v("div"),a=v("table"),e=v("thead"),e.innerHTML=l,s=A(),c=v("tbody");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){t=m(n,"DIV",{class:!0});var u=E(t);a=m(u,"TABLE",{class:!0});var i=E(a);e=m(i,"THEAD",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-ettpo"&&(e.innerHTML=l),s=D(i),c=m(i,"TBODY",{class:!0});var k=E(c);for(let b=0;b<r.length;b+=1)r[b].l(k);k.forEach(p),i.forEach(p),u.forEach(p),this.h()},h(){_(e,"class","table-header"),_(c,"class","table-body"),_(a,"class","data-table"),_(t,"class","table-wrapper")},m(n,u){S(n,t,u),d(t,a),d(a,e),d(a,s),d(a,c);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(c,null);$=!0},p(n,u){if(u&2){h=tt(n[1]);let i;for(i=0;i<h.length;i+=1){const k=ut(n,h,i);r[i]?(r[i].p(k,u),L(r[i],1)):(r[i]=ft(k),r[i].c(),L(r[i],1),r[i].m(c,null))}for(st(),i=h.length;i<r.length;i+=1)f(i);at()}},i(n){if(!$){for(let u=0;u<h.length;u+=1)L(r[u]);$=!0}},o(n){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)V(r[u]);$=!1},d(n){n&&p(t),mt(r,n)}}}function It(o){let t,a='<svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg> <p>No transactions found for this account</p>';return{c(){t=v("div"),t.innerHTML=a,this.h()},l(e){t=m(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-gk4pc3"&&(t.innerHTML=a),this.h()},h(){_(t,"class","text-center py-8 text-muted")},m(e,l){S(e,t,l)},p:Q,i:Q,o:Q,d(e){e&&p(t)}}}function Vt(o){let t,a;return t=new vt({props:{$$slots:{default:[jt]},$$scope:{ctx:o}}}),{c(){U(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){G(t,e,l),a=!0},p(e,l){const s={};l&262144&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){a||(L(t.$$.fragment,e),a=!0)},o(e){V(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Mt(o){let t=(o[15].aborted?"Aborted":o[15].end_status_name)+"",a;return{c(){a=P(t)},l(e){a=N(e,t)},m(e,l){S(e,a,l)},p(e,l){l&2&&t!==(t=(e[15].aborted?"Aborted":e[15].end_status_name)+"")&&O(a,t)},d(e){e&&p(a)}}}function ft(o){let t,a,e,l=ht(o[15].id)+"",s,c,$,h,r,f,n,u,i=parseFloat(o[15].balance_delta)>=0?"+":"",k,b=X(o[15].balance_delta)+"",x,g,C,T,B,H=X(o[15].total_fees)+"",q,z,F,I,Y,j;return r=new wt({props:{variant:_t(o[15].end_status_name),$$slots:{default:[Mt]},$$scope:{ctx:o}}}),I=new yt({props:{timestamp:o[15].now,className:"time-text"}}),{c(){t=v("tr"),a=v("td"),e=v("a"),s=P(l),$=A(),h=v("td"),U(r.$$.fragment),f=A(),n=v("td"),u=v("span"),k=P(i),x=P(b),C=A(),T=v("td"),B=v("span"),q=P(H),z=A(),F=v("td"),U(I.$$.fragment),Y=A(),this.h()},l(y){t=m(y,"TR",{class:!0});var w=E(t);a=m(w,"TD",{class:!0});var K=E(a);e=m(K,"A",{href:!0,class:!0});var W=E(e);s=N(W,l),W.forEach(p),K.forEach(p),$=D(w),h=m(w,"TD",{class:!0});var rt=E(h);J(r.$$.fragment,rt),rt.forEach(p),f=D(w),n=m(w,"TD",{class:!0});var lt=E(n);u=m(lt,"SPAN",{class:!0});var Z=E(u);k=N(Z,i),x=N(Z,b),Z.forEach(p),lt.forEach(p),C=D(w),T=m(w,"TD",{class:!0});var nt=E(T);B=m(nt,"SPAN",{class:!0});var ot=E(B);q=N(ot,H),ot.forEach(p),nt.forEach(p),z=D(w),F=m(w,"TD",{class:!0});var ct=E(F);J(I.$$.fragment,ct),ct.forEach(p),Y=D(w),w.forEach(p),this.h()},h(){_(e,"href",c="/transactions/"+o[15].id),_(e,"class","hash-text hover:text-primary-600 dark:hover:text-primary-400 svelte-u92z4a"),_(a,"class","table-td"),_(h,"class","table-td"),_(u,"class",g="font-semibold "+(parseFloat(o[15].balance_delta)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")),_(n,"class","table-td"),_(B,"class","text-muted"),_(T,"class","table-td"),_(F,"class","table-td"),_(t,"class","table-row")},m(y,w){S(y,t,w),d(t,a),d(a,e),d(e,s),d(t,$),d(t,h),G(r,h,null),d(t,f),d(t,n),d(n,u),d(u,k),d(u,x),d(t,C),d(t,T),d(T,B),d(B,q),d(t,z),d(t,F),G(I,F,null),d(t,Y),j=!0},p(y,w){(!j||w&2)&&l!==(l=ht(y[15].id)+"")&&O(s,l),(!j||w&2&&c!==(c="/transactions/"+y[15].id))&&_(e,"href",c);const K={};w&2&&(K.variant=_t(y[15].end_status_name)),w&262146&&(K.$$scope={dirty:w,ctx:y}),r.$set(K),(!j||w&2)&&i!==(i=parseFloat(y[15].balance_delta)>=0?"+":"")&&O(k,i),(!j||w&2)&&b!==(b=X(y[15].balance_delta)+"")&&O(x,b),(!j||w&2&&g!==(g="font-semibold "+(parseFloat(y[15].balance_delta)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")))&&_(u,"class",g),(!j||w&2)&&H!==(H=X(y[15].total_fees)+"")&&O(q,H);const W={};w&2&&(W.timestamp=y[15].now),I.$set(W)},i(y){j||(L(r.$$.fragment,y),L(I.$$.fragment,y),j=!0)},o(y){V(r.$$.fragment,y),V(I.$$.fragment,y),j=!1},d(y){y&&p(t),R(r),R(I)}}}function St(o){let t;return{c(){t=v("div"),this.h()},l(a){t=m(a,"DIV",{class:!0}),E(t).forEach(p),this.h()},h(){_(t,"class","skeleton skeleton-text h-16")},m(a,e){S(a,t,e)},p:Q,d(a){a&&p(t)}}}function jt(o){let t,a=tt(Array(5)),e=[];for(let l=0;l<a.length;l+=1)e[l]=St(Tt(o,a,l));return{c(){t=v("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=m(l,"DIV",{class:!0});var s=E(t);for(let c=0;c<e.length;c+=1)e[c].l(s);s.forEach(p),this.h()},h(){_(t,"class","space-y-4")},m(l,s){S(l,t,s);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null)},p:Q,d(l){l&&p(t),mt(e,l)}}}function qt(o){let t,a,e="Recent Transactions",l,s,c,$;const h=[Vt,It,Lt],r=[];function f(n,u){return n[4]?0:n[1].length===0?1:2}return s=f(o),c=r[s]=h[s](o),{c(){t=v("div"),a=v("h2"),a.textContent=e,l=A(),c.c(),this.h()},l(n){t=m(n,"DIV",{class:!0});var u=E(t);a=m(u,"H2",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-1mw9f30"&&(a.textContent=e),l=D(u),c.l(u),u.forEach(p),this.h()},h(){_(a,"class","text-xl font-bold mb-2"),_(t,"class","p-6")},m(n,u){S(n,t,u),d(t,a),d(t,l),r[s].m(t,null),$=!0},p(n,u){let i=s;s=f(n),s===i?r[s].p(n,u):(st(),V(r[i],1,1,()=>{r[i]=null}),at(),c=r[s],c?c.p(n,u):(c=r[s]=h[s](n),c.c()),L(c,1),c.m(t,null))},i(n){$||(L(c),$=!0)},o(n){V(c),$=!1},d(n){n&&p(t),r[s].d()}}}function Ft(o){let t,a,e='<svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',l,s,c="Failed to load account",$,h,r,f,n,u="Retry",i,k;return{c(){t=v("div"),a=v("div"),a.innerHTML=e,l=A(),s=v("h3"),s.textContent=c,$=A(),h=v("p"),r=P(o[3]),f=A(),n=v("button"),n.textContent=u,this.h()},l(b){t=m(b,"DIV",{class:!0});var x=E(t);a=m(x,"DIV",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-9k0goa"&&(a.innerHTML=e),l=D(x),s=m(x,"H3",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1f1v8j4"&&(s.textContent=c),$=D(x),h=m(x,"P",{class:!0});var g=E(h);r=N(g,o[3]),g.forEach(p),f=D(x),n=m(x,"BUTTON",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-11yc65t"&&(n.textContent=u),x.forEach(p),this.h()},h(){_(a,"class","text-red-500 mb-4"),_(s,"class","text-lg font-semibold mb-2"),_(h,"class","text-muted mb-4"),_(n,"class","px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors"),_(t,"class","p-8 text-center")},m(b,x){S(b,t,x),d(t,a),d(t,l),d(t,s),d(t,$),d(t,h),d(h,r),d(t,f),d(t,n),i||(k=pt(n,"click",o[6]),i=!0)},p(b,x){x&8&&O(r,b[3])},d(b){b&&p(t),i=!1,k()}}}function zt(o){let t,a='<div class="skeleton skeleton-card h-64"></div> <div class="skeleton skeleton-card h-96"></div>';return{c(){t=v("div"),t.innerHTML=a,this.h()},l(e){t=m(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1ju7mi6"&&(t.innerHTML=a),this.h()},h(){_(t,"class","space-y-6")},m(e,l){S(e,t,l)},p:Q,d(e){e&&p(t)}}}function Ot(o){let t,a,e,l=`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
			Back to Contracts`,s,c,$="Account Details",h,r,f,n,u,i;const k=[Bt,At,Dt],b=[];function x(g,C){return g[2]?0:g[3]?1:g[0]?2:-1}return~(r=x(o))&&(f=b[r]=k[r](o)),{c(){t=v("div"),a=v("div"),e=v("button"),e.innerHTML=l,s=A(),c=v("h1"),c.textContent=$,h=A(),f&&f.c(),this.h()},l(g){t=m(g,"DIV",{class:!0});var C=E(t);a=m(C,"DIV",{class:!0});var T=E(a);e=m(T,"BUTTON",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1j4n9q"&&(e.innerHTML=l),T.forEach(p),s=D(C),c=m(C,"H1",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-sxghle"&&(c.textContent=$),h=D(C),f&&f.l(C),C.forEach(p),this.h()},h(){_(e,"class","text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 flex items-center gap-2"),_(a,"class","mb-6"),_(c,"class","page-title"),_(t,"class","page-container")},m(g,C){S(g,t,C),d(t,a),d(a,e),d(t,s),d(t,c),d(t,h),~r&&b[r].m(t,null),n=!0,u||(i=pt(e,"click",o[9]),u=!0)},p(g,[C]){let T=r;r=x(g),r===T?~r&&b[r].p(g,C):(f&&(st(),V(b[T],1,1,()=>{b[T]=null}),at()),~r?(f=b[r],f?f.p(g,C):(f=b[r]=k[r](g),f.c()),L(f,1),f.m(t,null)):f=null)},i(g){n||(L(f),n=!0)},o(g){V(f),n=!1},d(g){g&&p(t),~r&&b[r].d(),u=!1,i()}}}function X(o){try{return(parseFloat(o)/1e9).toFixed(4)}catch{return"0.0000"}}function ht(o){return`${o.substring(0,10)}...${o.substring(o.length-8)}`}function _t(o){return o==="finalized"?"success":o==="pending"?"warning":o==="failed"?"error":"info"}function Nt(o,t,a){let e,l,s;it(o,Et,k=>a(7,l=k)),it(o,xt,k=>a(8,s=k));let c=null,$=[],h=!0,r=null,f=!1;kt(async()=>{await n()});async function n(){var k,b,x;a(2,h=!0),a(3,r=null);try{const C=await(await fetch(dt.graphqlEndpoint,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({query:`
						query GetAccount($address: String!) {
							account(address: $address) {
								info {
									boc
								}
							}
						}
					`,variables:{address:e}})})).json();if(C.errors)throw new Error(((k=C.errors[0])==null?void 0:k.message)||"Failed to load account");if(!((x=(b=C.data)==null?void 0:b.account)!=null&&x.info))throw new Error("Account not found");a(0,c=C.data.account.info),await u()}catch(g){a(3,r=g instanceof Error?g.message:"Failed to load account details"),console.error("Error loading account:",g)}finally{a(2,h=!1)}}async function u(){var k;a(4,f=!0);try{const x=await(await fetch(dt.graphqlEndpoint,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({query:`
						query GetAccountTransactions($limit: Int!, $address: String!) {
							transactions(
								orderBy: [{ path: "now", direction: DESC }]
								limit: $limit
								filter: { account_addr: { eq: $address } }
							) {
								id
								now
								now_string
								lt
								orig_status_name
								end_status_name
								total_fees(format: DEC)
								balance_delta(format: DEC)
								in_msg
								outmsg_cnt
								aborted
								compute {
									success
									exit_code
								}
								destroyed
							}
						}
					`,variables:{address:e,limit:20}})})).json();x.errors?console.error("Error loading transactions:",x.errors):(k=x.data)!=null&&k.transactions&&a(1,$=x.data.transactions)}catch(b){console.error("Error loading transactions:",b)}finally{a(4,f=!1)}}const i=()=>Ct("/contracts");return o.$$.update=()=>{o.$$.dirty&256&&a(5,e=s.params.id),o.$$.dirty&128},[c,$,h,r,f,e,n,l,s,i]}class te extends gt{constructor(t){super(),bt(this,t,Nt,Ot,$t,{})}}export{te as component};
