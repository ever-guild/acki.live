import{S as Pe,i as xe,s as He,n as Ve,d,D as Ue,V as je,a as ne,H as p,b as R,c as l,B as J,r as a,I as oe,e as v,f as _,h as L,J as Q,g as le,z as ve,j as g,k as C,K,t as ie,l as ce,W as Re,M as Fe,m as Ge,o as Be,p as $e,N as Je,O as Qe,P as Ke,q as We,u as Xe,v as Ye,A as Ze}from"../chunks/CNJda8uQ.js";import"../chunks/IHki7fMi.js";import{w as et}from"../chunks/D0QMXS57.js";import{p as tt}from"../chunks/At5aJpUz.js";import{g as st}from"../chunks/CWUrsTf9.js";import{c as Oe,t as at}from"../chunks/BdDW1rPr.js";import{e as qe}from"../chunks/BzX2F8xg.js";const rt=!0,nt=!0,Tt=Object.freeze(Object.defineProperty({__proto__:null,csr:nt,ssr:rt},Symbol.toStringTag,{value:"Module"}));function ot(){const{subscribe:s,set:e,update:t}=et(!0);{const n=localStorage.getItem("theme"),c=n?n==="dark":!0;e(c),r(c)}function r(n){n?(document.body.classList.add("dark"),document.body.classList.remove("light")):(document.body.classList.add("light"),document.body.classList.remove("dark"))}return{subscribe:s,toggle:()=>t(n=>{const c=!n;return localStorage.setItem("theme",c?"dark":"light"),r(c),c}),set:n=>{localStorage.setItem("theme",n?"dark":"light"),r(n),e(n)}}}const ge=ot();async function lt(s){var r,n,c,I,f,i,o,A;if(!s||s.trim().length===0)return{found:!1,results:[]};const e=s.trim(),t=[];try{const m=await(await fetch(qe.graphqlEndpoint,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({query:`
					query SearchById($id: String!) {
						transactions(filter: { id: { eq: $id } }, limit: 1) { id }
						blocks(filter: { id: { eq: $id } }, limit: 1) { id }
						messages(filter: { id: { eq: $id } }, limit: 1) { 
							id 
							dst_transaction { id } 
							src_transaction { id } 
						}
					}
				`,variables:{id:e}})})).json();if(m.errors)return console.error("Search error:",m.errors),{found:!1,results:[]};if((r=m.data)!=null&&r.blocks&&m.data.blocks.length>0&&t.push({type:"block",id:m.data.blocks[0].id}),(n=m.data)!=null&&n.transactions&&m.data.transactions.length>0&&t.push({type:"transaction",id:m.data.transactions[0].id}),(c=m.data)!=null&&c.messages&&m.data.messages.length>0){const D=m.data.messages[0];t.push({type:"message",id:D.id,relatedTransactionId:((I=D.dst_transaction)==null?void 0:I.id)||((f=D.src_transaction)==null?void 0:f.id)})}return e.match(/^(-1|0):/)&&(A=(o=(i=(await(await fetch(qe.graphqlEndpoint,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({query:`
						query GetAccount($address: String!) {
							account(address: $address) {
								info {
									boc
								}
							}
						}
					`,variables:{address:e}})})).json()).data)==null?void 0:i.account)==null?void 0:o.info)!=null&&A.boc&&t.push({type:"account",id:e}),{found:t.length>0,results:t}}catch(k){return console.error("Search failed:",k),{found:!1,results:[]}}}function it(s){switch(s.type){case"block":return`/blocks/${s.id}`;case"transaction":return`/transactions/${s.id}`;case"message":return`/messages/${s.id}`;case"account":return`/accounts/${s.id}`;default:return"/"}}function ct(s){let e,t;return{c(){e=g("img"),this.h()},l(r){e=v(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Re(e.src,t="/AN Logo - horizontal black.svg")||a(e,"src",t),a(e,"alt","Acki Nacki"),a(e,"class","h-8")},m(r,n){R(r,e,n)},d(r){r&&d(e)}}}function ut(s){let e,t;return{c(){e=g("img"),this.h()},l(r){e=v(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Re(e.src,t="/AN Logo - horizontal white.svg")||a(e,"src",t),a(e,"alt","Acki Nacki"),a(e,"class","h-8")},m(r,n){R(r,e,n)},d(r){r&&d(e)}}}function ze(s){let e,t='<svg class="animate-spin h-5 w-5 text-primary-600" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(r){e=v(r,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1fte2c2"&&(e.innerHTML=t),this.h()},h(){a(e,"class","absolute right-3 top-1/2 transform -translate-y-1/2")},m(r,n){R(r,e,n)},d(r){r&&d(e)}}}function dt(s){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Q(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var n=_(e);t=Q(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"stroke-width","2"),a(t,"d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),a(e,"class","w-5 h-5"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"viewBox","0 0 24 24")},m(r,n){R(r,e,n),l(e,t)},d(r){r&&d(e)}}}function ft(s){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(r){e=Q(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var n=_(e);t=Q(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"stroke-width","2"),a(t,"d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"),a(e,"class","w-5 h-5"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"viewBox","0 0 24 24")},m(r,n){R(r,e,n),l(e,t)},d(r){r&&d(e)}}}function ht(s){let e,t,r,n,c,I,f,i,o,A,k,m,D,U,S,M,H=s[2]("nav.blocks")+"",F,b,y,N=s[2]("nav.transactions")+"",Y,ue,V,W=s[2]("nav.messages")+"",Z,de,j,X=s[2]("nav.contracts")+"",ee,fe,q,z,w,_e="EN",he,E,be="RU",me,B,pe,ke;function ye(u,h){return u[4]?ut:ct}let te=ye(s),$=te(s),T=s[1]&&ze();function we(u,h){return u[4]?ft:dt}let se=we(s),O=se(s);return{c(){e=g("nav"),t=g("div"),r=g("div"),n=g("div"),c=g("a"),$.c(),I=C(),f=g("div"),i=g("form"),o=g("input"),A=C(),k=K("svg"),m=K("path"),D=C(),T&&T.c(),U=C(),S=g("div"),M=g("a"),F=ie(H),b=C(),y=g("a"),Y=ie(N),ue=C(),V=g("a"),Z=ie(W),de=C(),j=g("a"),ee=ie(X),fe=C(),q=g("div"),z=g("div"),w=g("button"),w.textContent=_e,he=C(),E=g("button"),E.textContent=be,me=C(),B=g("button"),O.c(),this.h()},l(u){e=v(u,"NAV",{class:!0});var h=_(e);t=v(h,"DIV",{class:!0});var Ee=_(t);r=v(Ee,"DIV",{class:!0});var P=_(r);n=v(P,"DIV",{class:!0});var Se=_(n);c=v(Se,"A",{href:!0,class:!0});var Te=_(c);$.l(Te),Te.forEach(d),Se.forEach(d),I=L(P),f=v(P,"DIV",{class:!0});var Ie=_(f);i=v(Ie,"FORM",{class:!0});var G=_(i);o=v(G,"INPUT",{type:!0,placeholder:!0,class:!0,style:!0}),A=L(G),k=Q(G,"svg",{class:!0,style:!0,fill:!0,stroke:!0,viewBox:!0});var Ae=_(k);m=Q(Ae,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(m).forEach(d),Ae.forEach(d),D=L(G),T&&T.l(G),G.forEach(d),Ie.forEach(d),U=L(P),S=v(P,"DIV",{class:!0});var x=_(S);M=v(x,"A",{href:!0,class:!0});var Me=_(M);F=le(Me,H),Me.forEach(d),b=L(x),y=v(x,"A",{href:!0,class:!0});var Le=_(y);Y=le(Le,N),Le.forEach(d),ue=L(x),V=v(x,"A",{href:!0,class:!0});var Ce=_(V);Z=le(Ce,W),Ce.forEach(d),de=L(x),j=v(x,"A",{href:!0,class:!0});var De=_(j);ee=le(De,X),De.forEach(d),x.forEach(d),fe=L(P),q=v(P,"DIV",{class:!0});var ae=_(q);z=v(ae,"DIV",{class:!0});var re=_(z);w=v(re,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(w)!=="svelte-99bowo"&&(w.textContent=_e),he=L(re),E=v(re,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(E)!=="svelte-26h1sw"&&(E.textContent=be),re.forEach(d),me=L(ae),B=v(ae,"BUTTON",{class:!0,"aria-label":!0});var Ne=_(B);O.l(Ne),Ne.forEach(d),ae.forEach(d),P.forEach(d),Ee.forEach(d),h.forEach(d),this.h()},h(){a(c,"href","/"),a(c,"class","flex items-center"),a(n,"class","flex-shrink-0"),a(o,"type","text"),a(o,"placeholder","address / msg / tx / block"),o.disabled=s[1],a(o,"class","w-full px-4 py-2 pl-10 pr-10 rounded-lg border transition-all"),oe(o,"background-color","var(--bg-secondary)"),oe(o,"color","var(--text-primary)"),oe(o,"border-color","var(--border-color)"),a(m,"stroke-linecap","round"),a(m,"stroke-linejoin","round"),a(m,"stroke-width","2"),a(m,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),a(k,"class","w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2"),oe(k,"color","var(--text-muted)"),a(k,"fill","none"),a(k,"stroke","currentColor"),a(k,"viewBox","0 0 24 24"),a(i,"class","relative"),a(f,"class","hidden lg:block flex-1 max-w-md mx-4"),a(M,"href","/blocks"),a(M,"class","nav-link"),p(M,"active",s[3]==="/blocks"),a(y,"href","/transactions"),a(y,"class","nav-link"),p(y,"active",s[3]==="/transactions"),a(V,"href","/messages"),a(V,"class","nav-link"),p(V,"active",s[3]==="/messages"),a(j,"href","/contracts"),a(j,"class","nav-link"),p(j,"active",s[3]==="/contracts"),a(S,"class","hidden md:flex items-center space-x-1"),a(w,"class","px-3 py-1 rounded text-sm transition-colors"),p(w,"bg-primary-600",s[5]==="en"),p(w,"text-white",s[5]==="en"),p(w,"text-secondary",s[5]!=="en"),p(w,"hover:bg-tertiary",s[5]!=="en"),a(E,"class","px-3 py-1 rounded text-sm transition-colors"),p(E,"bg-primary-600",s[5]==="ru"),p(E,"text-white",s[5]==="ru"),p(E,"text-secondary",s[5]!=="ru"),p(E,"hover:bg-tertiary",s[5]!=="ru"),a(z,"class","flex items-center space-x-2"),a(B,"class","p-2 rounded-lg hover:bg-tertiary transition-colors text-secondary"),a(B,"aria-label","Toggle theme"),a(q,"class","flex items-center space-x-4"),a(r,"class","flex items-center justify-between h-16"),a(t,"class","container mx-auto px-4"),a(e,"class","bg-secondary border-b border-custom shadow-lg")},m(u,h){R(u,e,h),l(e,t),l(t,r),l(r,n),l(n,c),$.m(c,null),l(r,I),l(r,f),l(f,i),l(i,o),je(o,s[0]),l(i,A),l(i,k),l(k,m),l(i,D),T&&T.m(i,null),l(r,U),l(r,S),l(S,M),l(M,F),l(S,b),l(S,y),l(y,Y),l(S,ue),l(S,V),l(V,Z),l(S,de),l(S,j),l(j,ee),l(r,fe),l(r,q),l(q,z),l(z,w),l(z,he),l(z,E),l(q,me),l(q,B),O.m(B,null),pe||(ke=[J(o,"input",s[12]),J(o,"input",s[8]),J(i,"submit",s[9]),J(w,"click",s[13]),J(E,"click",s[14]),J(B,"click",s[7])],pe=!0)},p(u,[h]){te!==(te=ye(u))&&($.d(1),$=te(u),$&&($.c(),$.m(c,null))),h&2&&(o.disabled=u[1]),h&1&&o.value!==u[0]&&je(o,u[0]),u[1]?T||(T=ze(),T.c(),T.m(i,null)):T&&(T.d(1),T=null),h&4&&H!==(H=u[2]("nav.blocks")+"")&&ne(F,H),h&8&&p(M,"active",u[3]==="/blocks"),h&4&&N!==(N=u[2]("nav.transactions")+"")&&ne(Y,N),h&8&&p(y,"active",u[3]==="/transactions"),h&4&&W!==(W=u[2]("nav.messages")+"")&&ne(Z,W),h&8&&p(V,"active",u[3]==="/messages"),h&4&&X!==(X=u[2]("nav.contracts")+"")&&ne(ee,X),h&8&&p(j,"active",u[3]==="/contracts"),h&32&&p(w,"bg-primary-600",u[5]==="en"),h&32&&p(w,"text-white",u[5]==="en"),h&32&&p(w,"text-secondary",u[5]!=="en"),h&32&&p(w,"hover:bg-tertiary",u[5]!=="en"),h&32&&p(E,"bg-primary-600",u[5]==="ru"),h&32&&p(E,"text-white",u[5]==="ru"),h&32&&p(E,"text-secondary",u[5]!=="ru"),h&32&&p(E,"hover:bg-tertiary",u[5]!=="ru"),se!==(se=we(u))&&(O.d(1),O=se(u),O&&(O.c(),O.m(B,null)))},i:Ve,o:Ve,d(u){u&&d(e),$.d(),T&&T.d(),O.d(),pe=!1,Ue(ke)}}}function mt(s,e,t){let r,n,c,I,f,i;ce(s,at,b=>t(10,c=b)),ce(s,tt,b=>t(11,I=b)),ce(s,ge,b=>t(4,f=b)),ce(s,Oe,b=>t(5,i=b));let o="",A=!1,k=null;function m(b){Oe.setLanguage(b)}function D(){ge.toggle()}function U(){k&&clearTimeout(k);const b=o.trim(),y=/^(-1|0):[a-fA-F0-9]{64}$/.test(b),N=/^[a-fA-F0-9]{64}$/.test(b);(y||N)&&(k=setTimeout(()=>{S(new Event("submit"))},500))}async function S(b){if(b.preventDefault(),!(!o.trim()||A)){t(1,A=!0);try{const y=await lt(o);if(y.found&&y.results.length>0){const N=it(y.results[0]);await st(N),t(0,o="")}else alert("No results found for: "+o)}catch(y){console.error("Search error:",y),alert("Search failed. Please try again.")}finally{t(1,A=!1)}}}function M(){o=this.value,t(0,o)}const H=()=>m("en"),F=()=>m("ru");return s.$$.update=()=>{s.$$.dirty&2048&&t(3,r=I.url.pathname),s.$$.dirty&1024&&t(2,n=c)},[o,A,n,r,f,i,m,D,U,S,c,I,M,H,F]}class pt extends Pe{constructor(e){super(),xe(this,e,mt,ht,He,{})}}function vt(s){let e,t,r,n,c;t=new pt({});const I=s[1].default,f=Fe(I,s,s[0],null);return{c(){e=g("div"),Ye(t.$$.fragment),r=C(),n=g("main"),f&&f.c(),this.h()},l(i){e=v(i,"DIV",{class:!0});var o=_(e);Xe(t.$$.fragment,o),r=L(o),n=v(o,"MAIN",{class:!0});var A=_(n);f&&f.l(A),A.forEach(d),o.forEach(d),this.h()},h(){a(n,"class","container mx-auto px-4 py-8"),a(e,"class","min-h-screen bg-primary text-primary")},m(i,o){R(i,e,o),We(t,e,null),l(e,r),l(e,n),f&&f.m(n,null),c=!0},p(i,[o]){f&&f.p&&(!c||o&1)&&Je(f,I,i,i[0],c?Ke(I,i[0],o,null):Qe(i[0]),null)},i(i){c||($e(t.$$.fragment,i),$e(f,i),c=!0)},o(i){Be(t.$$.fragment,i),Be(f,i),c=!1},d(i){i&&d(e),Ge(t),f&&f.d(i)}}}function gt(s,e,t){let{$$slots:r={},$$scope:n}=e;return Ze(()=>{ge.subscribe(c=>{c?(document.body.classList.add("dark"),document.body.classList.remove("light")):(document.body.classList.add("light"),document.body.classList.remove("dark"))})}),s.$$set=c=>{"$$scope"in c&&t(0,n=c.$$scope)},[n,r]}class It extends Pe{constructor(e){super(),xe(this,e,gt,vt,He,{})}}export{It as component,Tt as universal};
