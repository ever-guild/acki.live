import{S as $e,i as be,s as ke,d as h,m as W,o as O,p as V,a as F,b as ee,c as r,q as X,r as g,e as v,f as b,g as j,h as L,u as Z,j as $,t as z,k as C,v as x,l as Ee,w as Te,x as _e,y as pe,z as ge,n as ve,A as we}from"../chunks/B7nBLJxT.js";import{e as le}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{g as De}from"../chunks/C0htPYIV.js";import{t as He}from"../chunks/CgWz9Y5s.js";import{C as ye}from"../chunks/BMMy6BDF.js";import{S as Ae,E as Le}from"../chunks/CIDhrO5Q.js";import{L as Ce}from"../chunks/DPdNk7f2.js";import{f as fe,a as me}from"../chunks/MR4D5bJu.js";import{A as ue}from"../chunks/D-keG8gX.js";function he(n,t,a){const e=n.slice();return e[9]=t[a],e}function Ie(n,t,a){const e=n.slice();return e[6]=t[a],e[8]=a,e}function Me(n){let t,a,e,s,m=n[3]("common.messageId")+"",c,k,l,o=n[3]("common.from")+"",E,q,w,Y=n[3]("common.to")+"",S,N,I,P=n[3]("common.type")+"",J,R,H,B=n[3]("common.value")+"",G,Q,y,D=n[3]("common.time")+"",K,M,d,i,A=le(n[0]),u=[];for(let f=0;f<A.length;f+=1)u[f]=de(he(n,A,f));const U=f=>O(u[f],1,1,()=>{u[f]=null});return{c(){t=$("table"),a=$("thead"),e=$("tr"),s=$("th"),c=z(m),k=C(),l=$("th"),E=z(o),q=C(),w=$("th"),S=z(Y),N=C(),I=$("th"),J=z(P),R=C(),H=$("th"),G=z(B),Q=C(),y=$("th"),K=z(D),M=C(),d=$("tbody");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){t=v(f,"TABLE",{class:!0});var _=b(t);a=v(_,"THEAD",{class:!0});var p=b(a);e=v(p,"TR",{});var T=b(e);s=v(T,"TH",{class:!0});var te=b(s);c=j(te,m),te.forEach(h),k=L(T),l=v(T,"TH",{class:!0});var ae=b(l);E=j(ae,o),ae.forEach(h),q=L(T),w=v(T,"TH",{class:!0});var re=b(w);S=j(re,Y),re.forEach(h),N=L(T),I=v(T,"TH",{class:!0});var oe=b(I);J=j(oe,P),oe.forEach(h),R=L(T),H=v(T,"TH",{class:!0});var ne=b(H);G=j(ne,B),ne.forEach(h),Q=L(T),y=v(T,"TH",{class:!0});var ce=b(y);K=j(ce,D),ce.forEach(h),T.forEach(h),p.forEach(h),M=L(_),d=v(_,"TBODY",{class:!0});var ie=b(d);for(let se=0;se<u.length;se+=1)u[se].l(ie);ie.forEach(h),_.forEach(h),this.h()},h(){g(s,"class","table-th"),g(l,"class","table-th"),g(w,"class","table-th"),g(I,"class","table-th"),g(H,"class","table-th"),g(y,"class","table-th"),g(a,"class","table-header"),g(d,"class","table-body"),g(t,"class","data-table")},m(f,_){ee(f,t,_),r(t,a),r(a,e),r(e,s),r(s,c),r(e,k),r(e,l),r(l,E),r(e,q),r(e,w),r(w,S),r(e,N),r(e,I),r(I,J),r(e,R),r(e,H),r(H,G),r(e,Q),r(e,y),r(y,K),r(t,M),r(t,d);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(d,null);i=!0},p(f,_){if((!i||_&8)&&m!==(m=f[3]("common.messageId")+"")&&F(c,m),(!i||_&8)&&o!==(o=f[3]("common.from")+"")&&F(E,o),(!i||_&8)&&Y!==(Y=f[3]("common.to")+"")&&F(S,Y),(!i||_&8)&&P!==(P=f[3]("common.type")+"")&&F(J,P),(!i||_&8)&&B!==(B=f[3]("common.value")+"")&&F(G,B),(!i||_&8)&&D!==(D=f[3]("common.time")+"")&&F(K,D),_&1){A=le(f[0]);let p;for(p=0;p<A.length;p+=1){const T=he(f,A,p);u[p]?(u[p].p(T,_),V(u[p],1)):(u[p]=de(T),u[p].c(),V(u[p],1),u[p].m(d,null))}for(_e(),p=A.length;p<u.length;p+=1)U(p);pe()}},i(f){if(!i){for(let _=0;_<A.length;_+=1)V(u[_]);i=!0}},o(f){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)O(u[_]);i=!1},d(f){f&&h(t),ge(u,f)}}}function Se(n){let t,a;return t=new Le({props:{title:"Failed to load messages",message:n[2],onRetry:n[5]}}),{c(){x(t.$$.fragment)},l(e){Z(t.$$.fragment,e)},m(e,s){X(t,e,s),a=!0},p(e,s){const m={};s&4&&(m.message=e[2]),t.$set(m)},i(e){a||(V(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Be(n){let t,a;return t=new Ae({props:{$$slots:{default:[qe]},$$scope:{ctx:n}}}),{c(){x(t.$$.fragment)},l(e){Z(t.$$.fragment,e)},m(e,s){X(t,e,s),a=!0},p(e,s){const m={};s&4096&&(m.$$scope={dirty:s,ctx:e}),t.$set(m)},i(e){a||(V(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function de(n){let t,a,e,s=fe(n[9].id)+"",m,c,k,l,o,E,q,w,Y,S,N,I=n[9].type+"",P,J,R,H,B=me(n[9].value)+"",G,Q,y,D,K,M;return o=new ue({props:{address:n[9].from}}),w=new ue({props:{address:n[9].to}}),D=new Ce({props:{timestamp:Math.floor(n[9].timestamp.getTime()/1e3),className:"time-text"}}),{c(){t=$("tr"),a=$("td"),e=$("a"),m=z(s),k=C(),l=$("td"),x(o.$$.fragment),E=C(),q=$("td"),x(w.$$.fragment),Y=C(),S=$("td"),N=$("span"),P=z(I),J=C(),R=$("td"),H=$("span"),G=z(B),Q=C(),y=$("td"),x(D.$$.fragment),K=C(),this.h()},l(d){t=v(d,"TR",{class:!0});var i=b(t);a=v(i,"TD",{class:!0});var A=b(a);e=v(A,"A",{href:!0,class:!0});var u=b(e);m=j(u,s),u.forEach(h),A.forEach(h),k=L(i),l=v(i,"TD",{class:!0});var U=b(l);Z(o.$$.fragment,U),U.forEach(h),E=L(i),q=v(i,"TD",{class:!0});var f=b(q);Z(w.$$.fragment,f),f.forEach(h),Y=L(i),S=v(i,"TD",{class:!0});var _=b(S);N=v(_,"SPAN",{class:!0});var p=b(N);P=j(p,I),p.forEach(h),_.forEach(h),J=L(i),R=v(i,"TD",{class:!0});var T=b(R);H=v(T,"SPAN",{class:!0});var te=b(H);G=j(te,B),te.forEach(h),T.forEach(h),Q=L(i),y=v(i,"TD",{class:!0});var ae=b(y);Z(D.$$.fragment,ae),ae.forEach(h),K=L(i),i.forEach(h),this.h()},h(){g(e,"href",c="/messages/"+n[9].id),g(e,"class","address-text hover:text-primary-600"),g(a,"class","table-td"),g(l,"class","table-td"),g(q,"class","table-td"),g(N,"class","text-primary-500 font-medium"),g(S,"class","table-td"),g(H,"class","font-semibold text-primary"),g(R,"class","table-td"),g(y,"class","table-td"),g(t,"class","table-row")},m(d,i){ee(d,t,i),r(t,a),r(a,e),r(e,m),r(t,k),r(t,l),X(o,l,null),r(t,E),r(t,q),X(w,q,null),r(t,Y),r(t,S),r(S,N),r(N,P),r(t,J),r(t,R),r(R,H),r(H,G),r(t,Q),r(t,y),X(D,y,null),r(t,K),M=!0},p(d,i){(!M||i&1)&&s!==(s=fe(d[9].id)+"")&&F(m,s),(!M||i&1&&c!==(c="/messages/"+d[9].id))&&g(e,"href",c);const A={};i&1&&(A.address=d[9].from),o.$set(A);const u={};i&1&&(u.address=d[9].to),w.$set(u),(!M||i&1)&&I!==(I=d[9].type+"")&&F(P,I),(!M||i&1)&&B!==(B=me(d[9].value)+"")&&F(G,B);const U={};i&1&&(U.timestamp=Math.floor(d[9].timestamp.getTime()/1e3)),D.$set(U)},i(d){M||(V(o.$$.fragment,d),V(w.$$.fragment,d),V(D.$$.fragment,d),M=!0)},o(d){O(o.$$.fragment,d),O(w.$$.fragment,d),O(D.$$.fragment,d),M=!1},d(d){d&&h(t),W(o),W(w),W(D)}}}function Ve(n){let t,a='<div class="skeleton skeleton-text flex-1"></div> <div class="skeleton skeleton-text flex-1"></div> <div class="skeleton skeleton-text w-20"></div> <div class="skeleton skeleton-text w-20"></div> <div class="skeleton skeleton-text w-24"></div> ';return{c(){t=$("div"),t.innerHTML=a,this.h()},l(e){t=v(e,"DIV",{class:!0,"data-svelte-h":!0}),we(t)!=="svelte-64l08e"&&(t.innerHTML=a),this.h()},h(){g(t,"class","flex gap-4")},m(e,s){ee(e,t,s)},p:ve,d(e){e&&h(t)}}}function qe(n){let t,a=le(Array(10)),e=[];for(let s=0;s<a.length;s+=1)e[s]=Ve(Ie(n,a,s));return{c(){t=$("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=v(s,"DIV",{class:!0});var m=b(t);for(let c=0;c<e.length;c+=1)e[c].l(m);m.forEach(h),this.h()},h(){g(t,"class","p-6 space-y-4")},m(s,m){ee(s,t,m);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null)},p:ve,d(s){s&&h(t),ge(e,s)}}}function Ne(n){let t,a,e,s;const m=[Be,Se,Me],c=[];function k(l,o){return l[1]?0:l[2]?1:2}return a=k(n),e=c[a]=m[a](n),{c(){t=$("div"),e.c(),this.h()},l(l){t=v(l,"DIV",{class:!0});var o=b(t);e.l(o),o.forEach(h),this.h()},h(){g(t,"class","table-wrapper")},m(l,o){ee(l,t,o),c[a].m(t,null),s=!0},p(l,o){let E=a;a=k(l),a===E?c[a].p(l,o):(_e(),O(c[E],1,1,()=>{c[E]=null}),pe(),e=c[a],e?e.p(l,o):(e=c[a]=m[a](l),e.c()),V(e,1),e.m(t,null))},i(l){s||(V(e),s=!0)},o(l){O(e),s=!1},d(l){l&&h(t),c[a].d()}}}function Pe(n){let t,a,e=n[3]("messages.title")+"",s,m,c,k;return c=new ye({props:{$$slots:{default:[Ne]},$$scope:{ctx:n}}}),{c(){t=$("div"),a=$("h1"),s=z(e),m=C(),x(c.$$.fragment),this.h()},l(l){t=v(l,"DIV",{class:!0});var o=b(t);a=v(o,"H1",{class:!0});var E=b(a);s=j(E,e),E.forEach(h),m=L(o),Z(c.$$.fragment,o),o.forEach(h),this.h()},h(){g(a,"class","page-title"),g(t,"class","page-container")},m(l,o){ee(l,t,o),r(t,a),r(a,s),r(t,m),X(c,t,null),k=!0},p(l,[o]){(!k||o&8)&&e!==(e=l[3]("messages.title")+"")&&F(s,e);const E={};o&4111&&(E.$$scope={dirty:o,ctx:l}),c.$set(E)},i(l){k||(V(c.$$.fragment,l),k=!0)},o(l){O(c.$$.fragment,l),k=!1},d(l){l&&h(t),W(c)}}}function Re(n,t,a){let e,s;Ee(n,He,o=>a(4,s=o));let m=[],c=!0,k=null;Te(async()=>{try{a(0,m=await De.getMessages())}catch(o){console.log("Error loading messages:",o),a(2,k=o instanceof Error?o.message:"Failed to load messages")}finally{a(1,c=!1)}});const l=()=>window.location.reload();return n.$$.update=()=>{n.$$.dirty&16&&a(3,e=s)},[m,c,k,e,s,l]}class We extends $e{constructor(t){super(),be(this,t,Re,Pe,ke,{})}}export{We as component};
